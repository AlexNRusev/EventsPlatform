@using EventsPlatform.Models.Enums
@using Microsoft.AspNetCore.Identity
@using EventsPlatform.Models
@model EventsPlatform.ViewModels.EventViewModel

@inject SignInManager<User> SignInManager

@{
    ViewData["Title"] = "Детайли";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>Детайли за събитието</h1>

<div>
    <hr />
    <dl class="row">
        @Html.HiddenFor(model => model.Id)
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Name)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Name)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.EventStartDate)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.EventStartDate)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.EventEndDate)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.EventEndDate)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.MaxNumberOfParticipants)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.MaxNumberOfParticipants)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.EventType)
        </dt>
        <dd class = "col-sm-10">
            @if(Model.EventType == EventType.Real) { <span>Реално</span> }
            else { <span>Виртуално</span> }
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Details)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Details)
        </dd>
        @if (Model.EventType == EventType.Real)
        {
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.Location.Town)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.Location.Town)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.Location.Street)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.Location.Street)
            </dd>
            <dt class = "col-sm-2">
                @Html.DisplayNameFor(model => model.Location.OtherDetails)
            </dt>
            <dd class = "col-sm-10">
                @Html.DisplayFor(model => model.Location.OtherDetails)
        </dd>
        }
    </dl>
    @if (SignInManager.IsSignedIn(User))
    {
        <form>
            <input type="button" id="RegisterButton" name="register" value="" onclick="applyEvent(@Model.Id)">
        </form>
    }
    
</div>
<div>
    <a asp-action="Index">Назад</a>
</div>

<script src="~/js/details.js" asp-append-version="true"></script>